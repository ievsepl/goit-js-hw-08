{"mappings":"AAAO,MAAMA,EAAO,CAACC,EAAKC,KACxB,IACE,MAAMC,EAAkBC,KAAKC,UAAUH,GACvCI,aAAaC,QAAQN,EAAKE,E,CAC1B,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GAYhCC,EAAOV,IAClB,IACE,MAAME,EAAkBG,aAAaM,QAAQX,GAC7C,OAA2B,OAApBE,OAA2BU,EAAYT,KAAKU,MAAMX,E,CACzD,MAAOK,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,Q,GCnBvCK,EAAO,CACXC,KAAMC,SAASC,cAAc,kBAC7BC,YAAa,uBAGfJ,EAAKC,KAAKI,iBAAiB,SAS3B,SAAqBC,GAInBrB,EAAKe,EAAKI,YAAa,CACrBG,MAAOP,EAAKC,KAAKM,MAAMpB,MACvBQ,QAASK,EAAKC,KAAKN,QAAQR,O,IAd/Ba,EAAKC,KAAKI,iBAAiB,UAG3B,SAAyBC,GACvBA,EAAEE,iBACFF,EAAEG,cAAcC,O,IAiBlB,WACE,MAAMC,EAAYf,EAAKI,EAAKI,aAM5B,IACEJ,EAAKC,KAAKM,MAAMpB,MAAQwB,EAAUJ,MAClCP,EAAKC,KAAKN,QAAQR,MAAQwB,EAAUhB,O,CACpC,MAAOF,G,EA9BXmB","sources":["src/js/storage.js","src/js/03-feedback.js"],"sourcesContent":["export const save = (key, value) => {\n  try {\n    const serializedState = JSON.stringify(value);\n    localStorage.setItem(key, serializedState);\n  } catch (error) {\n    console.error('Set state error: ', error.message);\n  }\n};\n\n// export const save = (key, value) => {\n//   try {\n//     localStorage.setItem(key, JSON.stringify(value));\n//   } catch (error) {\n//     console.error('Set state error: ', error.message);\n//   }\n// };\n\nexport const load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\n\n//\n//\n//\n//\n\n//\n\n//\n\n//\n\n//\n// import { save, load, remove } from './storage';\n// import throttle from 'lodash.throttle';\n\n// const STORAGE_KEY = 'feedback-form-state';\n// const formRef = document.querySelector('.feedback-form');\n// let formData = {};\n\n// formRef.addEventListener('submit', onFormSubmit);\n// formRef.addEventListener('input', throttle(onFormInput, 500));\n\n// populateForm();\n\n// function onFormSubmit(evt) {\n//   evt.preventDefault();\n//   if (formRef[0].value && formRef[1].value) {\n//     console.log(formData);\n//     evt.currentTarget.reset();\n//     remove(STORAGE_KEY);\n//   } else alert('All fields must be filled!');\n// }\n\n// function onFormInput() {\n//   formData = {\n//     email: formRef[0].value,\n//     message: formRef[1].value,\n//   };\n//   save(STORAGE_KEY, formData);\n// }\n\n// function populateForm() {\n//   formData = load(STORAGE_KEY);\n//   if (formData) {\n//     formRef[0].value = formData.email;\n//     formRef[1].value = formData.message;\n//   }\n// }\n","import { save, load } from './storage.js';\n\nconst formData = {};\nconst refs = {\n  form: document.querySelector('.feedback-form'),\n  STORAGE_KEY: 'feedback-form-state',\n};\n\nrefs.form.addEventListener('input', onSaveInput);\nrefs.form.addEventListener('submit', onSubmitMessage);\n// window.addEventListener('load', onLoadInput);\nonLoadInput();\nfunction onSubmitMessage(e) {\n  e.preventDefault();\n  e.currentTarget.reset();\n}\n\nfunction onSaveInput(e) {\n  // formData[e.target.name] = e.target.value;\n  // save(refs.STORAGE_KEY, formData);\n\n  save(refs.STORAGE_KEY, {\n    email: refs.form.email.value,\n    message: refs.form.message.value,\n  });\n  // console.log(save(refs.STORAGE_KEY, formData));\n  // localStorage.setItem(STORAGE_KEY);\n  // console.log(formData);\n  // return formData;\n}\n\nfunction onLoadInput() {\n  const loadInput = load(refs.STORAGE_KEY);\n  // if (loadInput.email) {\n  //   refs.form.email.value = loadInput.email;\n  //   refs.form.message.value = loadInput.message;\n  //   console.log(refs.form.email.value);\n  // }\n  try {\n    refs.form.email.value = loadInput.email;\n    refs.form.message.value = loadInput.message;\n  } catch (error) {\n    // console.log('Local Storage is empty');\n  }\n}\n\n// console.log(formData);\n"],"names":["$3fff5e8daf4b13a6$export$a1544dad697b423d","key","value","serializedState","JSON","stringify","localStorage","setItem","error","console","message","$3fff5e8daf4b13a6$export$11e63f7b0f3d9900","getItem","undefined","parse","$945622fd0f572e60$var$refs","form","document","querySelector","STORAGE_KEY","addEventListener","e","email","preventDefault","currentTarget","reset","loadInput","$945622fd0f572e60$var$onLoadInput"],"version":3,"file":"03-feedback.aaeac922.js.map"}